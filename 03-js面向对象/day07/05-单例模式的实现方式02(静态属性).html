<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

    </style>
</head>
<body>
使用构造函数的静态属性来实现单例模式
    核心步骤:
        1.提供一个构造函数
        2.在构造函数内判断这个构造函数的静态属性(instance)是否有值,如果有值,直接返回
        3.将this赋值给构造函数的这个静态属性
        4.设置this的属性和方法

    存在的问题: 构造函数的静态属性在全局都可以访问和修改,修改之后再创建的对象就不是之前的单例对象了
<script>
    // 1.提供一个构造函数
    function Person() {
        // 2.在构造函数内判断这个构造函数的静态属性(instance)是否有值,如果有值,直接返回
        if (Person.instance != undefined) {
            return Person.instance;
        }

        // 3.将this赋值给构造函数的这个静态属性
        Person.instance = this;

        // 4.设置this的属性和方法
        this.name = 'zs';
        this.showName = function () {
            console.log(this.name);
        }
    }

    var p1 = new Person();
    var p2 = new Person();
    console.log(p1 == p2);

    Person.instance = 'demo';
    var p3 = new Person();
    console.log(p3); // 新的对象
    console.log(p3 == p2); // false

</script>
</body>
</html>