<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>点击我发送请求</button>
<script>
    window.onload = function () {
        var oBtn = document.querySelector("button");
        oBtn.onclick = function () {
           // alert(1);

            //01 创建请求对象
            var xhr = new XMLHttpRequest();

            //02 设置请求路径和请求方法（get|post）
            //第一个参数：请求方法（get|post）
            //第二个参数：请求路径
            //第三个参数：是否发送异步请求（总是true）
            xhr.open("get","php_server/04-ajax_get.php",true);

            //03 发送请求
            xhr.send();

            //04 监听请求的状态（接受到响应）
            xhr.onreadystatechange = function () {
                //当请求的状态发生了改变就会执行这个回调中的代码
                //请求的状态：
                /*
                *（1）请求未初始化 - 0
                 （2）服务器连接已经建立 - 1
                 （3）请求已经接收 -2
                 （4）请求处理中 -3
                 （5）请求已经完成，且响应已经就绪 -4
                * */
                console.log("_____",xhr.readyState);

                //判断当前的请求是否完成（接收到响应）
                if(xhr.readyState == 4)
                {
                    //05 解析服务器返回的数据 xhr.responseText
                    console.log("服务器返回的数据：",xhr.responseText);

                }
            }



        }
    }
</script>
</body>
</html>